
import React             from 'react'
import { Table, Tr, Td } from 'reactable'

class List extends React.Component {

  constructor(props) {super(props)}

  time(T) {
    console.log(T)
    var d = new Date(0)
    d.setUTCSeconds(T/1000.0)
    return d.toLocaleDateString()
  }

  render() {
    console.log("-- Rendering List Viz --")
    const networkSummaries = this.props.networkSummaries.toJS()
    console.log(networkSummaries)
    const tableStyle = {
      display: 'flex',
      flexWrap: 'wrap',
      width: "100%",
      height: "100%",
      justifyContent: 'space-around',
      overflow: 'scroll'
    }
    return (
      <Table sortable={true} style={tableStyle}>
        {networkSummaries.map((N) => (
          <Tr>
            <Td column="Name" value={N.name}><a href={"http://dev2.ndexbio.org/#/network/" + N.externalId}>{N.name}</a></Td>
            <Td column="Owner" value={N.owner}><a href={"http://dev2.ndexbio.org/#/user/" + N.owner}>{N.owner}</a></Td>
            <Td column="Edges">{N.edgeCount}</Td>
            <Td column="Nodes">{N.nodeCount}</Td>
            <Td column="Created">{this.time(N.creationTime)}</Td>
            <Td column="Modified">{this.time(N.modificationTime)}</Td>
          </Tr>))}
      </Table>
    )
  }

}

const ListViz = {
  vizName: 'reorder',
  viz: List
}

export default ListViz
